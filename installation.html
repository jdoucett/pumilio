<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pumilio by ljvillanueva</title>
    <!-- Bootstrap -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- 
    <link href="bootstrap/css/jumbotron-narrow.css" rel="stylesheet">
    -->

    <!-- Custom styles for this template -->

        
    <!-- Bootstrap theme -->
    <link href="bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body role="document">

    <!-- Fixed navbar -->
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="./">Pumilio</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="./">Home</a></li>
            <li><a href="screenshots.html">Screenshots</a></li>
            <li class="active"><a href="installation.html">Installation</a></li>
            <li><a href="userguide.html">User Guide</a></li>
            <li><a href="adminguide.html">Administrator Guide</a></li>
            <li><a href="scripts.html">Auxiliary Scripts</a></li>
            <li><a href="development.html">Development</a></li>
            <li><a href="http://pumilio.coquipr.com/pumilio/">Demo</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
    

 <div class="container" role="main">


      <!-- Main jumbotron for a primary marketing message or call to action -->
      <div class="jumbotron" style="padding-left:10px;padding-bottom:10px;">
        <h2>Installation</h2>
      </div>
               
	<p>To install, download the latest relase version to a webserver folder. The Pumilio application requires:

	<ul>
		<li> Linux (a current version of <a href="http://www.ubuntu.com" target="_blank">Ubuntu</a> is recommended)
		<li> PHP 5.2 or newer
		<li> The <a href="http://lame.sourceforge.net">LAME</a> mp3 encoder
		<li> The svt.py script requires Python 2.4 or newer, <a href="http://numpy.scipy.org/">numpy</a>, <a href="http://www.pythonware.com/products/pil/">Python Imaging Library</a>, and <a href="http://www.ar.media.kyoto-u.ac.jp/members/david/softwares/audiolab/index.html">audiolab 0.08</a>
			<ul>
				<li>The application has not been tested with Python 3</li>
			</ul>
		<li> <a href="http://sox.sourceforge.net">SoX</a> version 14.3.0 or higher
		<li> <a href="http://www.imagemagick.org">Imagemagick</a>
		<li> <a href="http://flac.sourceforge.net">FLAC</a> - Free Lossless Audio Codec (optional)
	</ul>

	Create a database and user in MySQL, you can use the <i>mysql</i> client or <i>phpmyadmin</i>. 
	Then, rename the file <em>config.php.dist</em> to <em>config.php</em> and add the MySQL server and credentials:
<pre style="margin-left:20px;">#Database settings
$host = "localhost";
$user = "";
$password = "";
$database = "";</pre>
	
	
	<p>Then, 
	on your browser, go to the application URL, adding <b>install/</b>. For example, if the address is:
		<pre style="margin-left:20px;">http://somehost.com/pumilio</pre>
		
	<p>Then go to:
		
		<pre style="margin-left:20px;">http://somehost.com/pumilio/install/</pre>
		
	<p>This will check the necessary software and folder permissions. Add an administrative user. After this step you can
	delete the folders <b>install</b> and <b>upgrade</b>.</p>

	<h3>Installation steps for Ubuntu</h3>

	<p>To install the necessary software from the command line, follow these steps. First, install the LAMP stack (Apache, PHP5, MySQL):</p>
	
		<pre style="margin-left:20px;">sudo apt-get install tasksel
sudo tasksel install lamp-server</pre>
	
	<p>Install the required packages for audiolab and Pumilio:</p>

		<pre style="margin-left:20px;">sudo apt-get install python-dev python-setuptools python-numpy libsndfile1-dev libasound2-dev imagemagick sox libsox* python-imaging flac lame</pre>

	<p>Then download audiolab <a href="http://pypi.python.org/pypi/scikits.audiolab/0.8">version 0.8</a> and install it: 

		<pre style="margin-left:20px;">wget https://pypi.python.org/packages/source/s/scikits.audiolab/scikits.audiolab-0.8.tar.gz
tar -xvzf scikits.audiolab-0.8.tar.gz 
cd scikits.audiolab-0.8/
sudo python setup.py install</pre>
	
	<h3>Allow uploads of bigger files</h3>
	
	<p>The file size limit for uploaded files is determined in the php.ini file, by default 2MB. In Ubuntu its located 
	in <i>/etc/php5/apache2/php.ini</i>. Set the desired value in the variables <em>upload_max_filesize</em> and 
	<em>post_max_size</em>, then restart Apache. Please consult the 
	<a href="http://us3.php.net/manual/en/features.file-upload.php">PHP manual</a> for more info. Look <a href="http://us3.php.net/manual/en/features.file-upload.common-pitfalls.php">
	here for some pitfalls to avoid</a>.</p>
	
	<h3>To upgrade</h3>
	
        <div class="alert alert-danger"><p>Before trying to update, be sure to make a backup of the files and database.</p></div>
        
	<p>If you are upgrading from version 1.0, or newer, replace the files with the last release, without replacing the
	following folders:
		
			<ul>
				<li>sounds</li>
				<li>tmp</li>
				<li>sitephotos</li>
				<li>data_sources (if you added something)</li>
				<li>tools (if you added something)</li>
			</ul>

	<p>Check the config.php file. It should only contain the MySQL credentials and optional variables listed in the <a href="adminguide.html">Administrator Guide</a>.
	Then go to the application address <strong>/upgrade</strong> (if the address is <em>http://somehost.com/pumilio</em>, then go to <em>http://somehost.com/pumilio/upgrade</em>).
	This will upgrade the database structure and make all necessary checks. <strong>If you miss this step, the application may not work as intended</strong>.


     <div id="footer">
        <br><p class="text-muted">Pumilio is maintained by <a href="https://github.com/ljvillanueva">ljvillanueva</a></p>
    </div> 

    </div>
  </body>
</html>
