<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pumilio by ljvillanueva</title>
    <!-- Bootstrap -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- 
    <link href="bootstrap/css/jumbotron-narrow.css" rel="stylesheet">
    -->

    <!-- Custom styles for this template -->

        
    <!-- Bootstrap theme -->
    <link href="bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body role="document">

    <!-- Fixed navbar -->
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="./">Pumilio</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="./">Home</a></li>
            <li><a href="installation.html">Installation</a></li>
            <li><a href="userguide.html">User Guide</a></li>
            <li><a href="integration.html">Use with other software</a></li>
            <li><a href="scripts.html">Auxiliary Scripts</a></li>
            <li class="active"><a href="development.html">Development</a></li>
            <li><a href="http://pumilio.coquipr.com/pumilio/">Demo</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
    

 <div class="container" role="main">


      <!-- Main jumbotron for a primary marketing message or call to action -->
      <div class="jumbotron" style="padding-left:10px;padding-bottom:10px;">
        <h2>Development</h2>
      </div>

<h3>How this came to be</h3>
	<p>Pumilio was created out of necessity. Our lab was collecting a lot of sound data and there was no
	system that could help us manage that amount of data. In addition, we used at least two operating systems (Windows and Linux) 
	and some collaborators even use Mac. On top of that, some of us used Internet Explorer, while some used Firefox.
	<p>We started just putting files in folders in a network share. After a few hundred files there is no way of keeping track. Plus, 
	we were wasting time each time we had to open a file in Audacity or Raven to see its spectrogram. 
	
<h3>First steps</h3>
	<p>One of the first instances of this system was a simple database that would display rows of spectrograms with a Flash mp3 player
	on the bottom of each. Similar to the "gallery" view of the current version of Pumilio. The problem was generating all those spectrograms.
	Using R was easy, but took too long to write the png files. The function specgram() in Python crashed with our files (15 minutes). After 
	a while, I stumbled upon a Python script written by the people of Freesound.org. This was a very fast script and I took it and 
	implemented it.
	<p>Afterwards it was all step by step. A JavaScript plugin built to crop images over the web became a selection tool for 
	zooming in a sound and filtering.
	<p>For a while, the development was done in an open way using subversion in SourceForge. 

<h3>Current development</h3>
	<p>Pumilio is now managed using git in a Github repo. If you want to contribute, just check the code in the project's website.
	Any and all ideas are welcomed. Let me know if you want to be added to the developer list. 
	<p><strong>Do not use the dev code for a production system. The code may be buggy, unstable or completely useless. Use the git repo only for 
	development.</strong>

	<ul>
		<li><a href="https://github.com/ljvillanueva/pumilio">Browse the Github repository</a></li>
	</ul>
	
<h3>General philosophy on how the application is built</h3>
	<p>The main idea is to make it easy to navigate a sound archive using any modern computer. This means using cross-browser 
	tools to allow the use of any modern browser. Blueprint enables a consistent CSS, JQuery takes care of most of the JavaScript and 
	some of the styling.

<h3>What is needed in the code?</h3>
	<p>Everything. The code is built to withstand most cases of human error, human stupidity, and attacks. However, it can use everything
	from improvements in the PHP and JavaScript code, usability improvements, database structure, to faster and better Python scripts. 
	Lend a hand to help build a better scientific tool.

<h3>The MySQL database for v.2.7.1</h3>

	<p>Some notes about the database. At version 26 of the database, there are 28 tables and the structure is as follows:

	<p>

	<div class="alert alert-warning"><p>This information is being updated. An updated list will be posted during March 2014</p></div>

	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">
		CheckAuxfiles - Table of files to be checked by the system </a>
		
		<a href="#" class="list-group-item">SoundID : The ID of the soundfile to check</a>
	</div>
        </div>         
        
        
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">
		Collections - Collections of sounds, like CDs, DVDs, Websites or libraries </a>
		
		<a href="#" class="list-group-item">ColID : The unique table ID </a>
		<a href="#" class="list-group-item">Author : The author of this collection  </a>
		<a href="#" class="list-group-item">FilesSource : The source of the files. Options are: Field Recording, Book with CD, Automated Audio Logger, Audio CD, CD-ROM, DVD, Tape, Internet, Donation, Other </a>
		<a href="#" class="list-group-item">CollectionName : The name to display </a>
		<a href="#" class="list-group-item">CollectionFullCitation : Full citation of the collection </a>
		<a href="#" class="list-group-item">MiscURL : URL for this collection, if any </a>
		<a href="#" class="list-group-item">Notes : Notes on this collection </a>
	</div>
        </div>
	

	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">Cookies - table to store the cookie values from browser</a>
		<a href="#" class="list-group-item">user_id : The user id </a>
		<a href="#" class="list-group-item">cookie : The cookie assigned to that user </a>
	</div>
        </div>
	
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">Equipment - table to store equipment used in the data collection</a>
		<a href="#" class="list-group-item">EquipmentID : The unique table ID </a>
		<a href="#" class="list-group-item">Recorder : The recorder for this equipment </a>
		<a href="#" class="list-group-item">Microphone : The microphone for this equipment </a>
		<a href="#" class="list-group-item">Notes : Other notes about this equipment, preamps, etc. </a>
	</div>
        </div>

	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">Kml - table to store the optional locations of KML/KMZ layers</a>
		<a href="#" class="list-group-item">KmlID : The unique table ID </a>
		<a href="#" class="list-group-item">KmlName : The name to display for this layer </a>
		<a href="#" class="list-group-item">KmlNotes : Notes for this layer </a>
		<a href="#" class="list-group-item">KmlURL : The full URL of this KML/KMZ layer </a>
	</div>
        </div>
	
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">ProcessLog - table with the log of the script jobs</a>
		<a href="#" class="list-group-item">LogID : The unique table ID </a>
		<a href="#" class="list-group-item">QueueID : The ID from the Queue table </a>
		<a href="#" class="list-group-item">Computer : Which computer ran the job </a>
		<a href="#" class="list-group-item">TimeStamp : Timestamp of the row </a>
		<a href="#" class="list-group-item">FileLog : The log of what the script returns, very helpful to diagnose </a>
	</div>
        </div>
	
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">PumilioSettings - table to store application settings</a>
		<a href="#" class="list-group-item">Settings : The name to call the particular variable </a>
		<a href="#" class="list-group-item">Value : The value of the variable </a>
	</div>
        </div>
	
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">Queue - table to manage the queue in the script jobs</a>
		<a href="#" class="list-group-item">QueueID : The unique table ID </a>
		<a href="#" class="list-group-item">JobID : The QueueJobs ID </a>
		<a href="#" class="list-group-item">SoundID : The Sounds ID </a>
		<a href="#" class="list-group-item">ScriptID : The Scripts ID </a>
		<a href="#" class="list-group-item">Priority : A priority setting </a>
		<a href="#" class="list-group-item">Status : The status of the particular job. 0 is not done, 1 is taken, 2 is done, 3 is error, 4 is hold, 5 is not found (404 error). </a>
		<a href="#" class="list-group-item">LastChange : Timestamp when row was last updated </a>
		<a href="#" class="list-group-item">ClaimedDate : Timestamp when the row was claimed to run the job </a>
		<a href="#" class="list-group-item">ProcessDoneDate : Timestamp when the job was completed </a>
		<a href="#" class="list-group-item">ComputerDone : The computer that completed the job </a>
	</div>
        </div>
	
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">QueueJobs - table to hold the general info of each job </a>
		<a href="#" class="list-group-item">JobID : The unique table ID </a>
		<a href="#" class="list-group-item">UserID : The ID of the user that created the job </a>
		<a href="#" class="list-group-item">JobName : The name given to this job </a>
	</div>
        </div>
	
	
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">SampleMembers - table to hold the member sounds of a sample set </a>
		<a href="#" class="list-group-item">SampleMembersID : The unique table ID </a>
		<a href="#" class="list-group-item">SampleID : The ID of the sample set </a>
		<a href="#" class="list-group-item">SoundID : The Sounds ID  </a>
	</div>
        </div>
	
	
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">Samples - table to hold general info on the sample sets </a>
		<a href="#" class="list-group-item">SampleID : The unique table ID </a>
		<a href="#" class="list-group-item">SampleName : The sample set name </a>
		<a href="#" class="list-group-item">SampleNotes : Notes on this sample set </a>
	</div>
        </div>
	
	
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">Scripts - table to hold the scripts for script jobs </a>
		<a href="#" class="list-group-item">ScriptID : The unique table ID </a>
		<a href="#" class="list-group-item">ScriptName : The name of this script </a>
		<a href="#" class="list-group-item">ScriptPurpose : Some notes on the purpose of this script </a>
		<a href="#" class="list-group-item">Language : The language in which the script is written, either R or Python </a>
		<a href="#" class="list-group-item">Script : The contents of the script </a>
		<a href="#" class="list-group-item">ScriptVersion : The version number of the script </a>
		<a href="#" class="list-group-item">TimeStamp : Timestamp when this row was created </a>
	</div>
        </div>
	
	
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">Sites - table for the sites </a>
		<a href="#" class="list-group-item">SiteID : The unique table ID </a>
		<a href="#" class="list-group-item">SiteCode : <i>not implemented yet</i> </a>
		<a href="#" class="list-group-item">SiteName : The name of this site </a>
		<a href="#" class="list-group-item">SiteLat : The latitude of the site </a>
		<a href="#" class="list-group-item">SiteLon : The longitude of the site </a>
		<a href="#" class="list-group-item">WeatherSiteID : <i>not implemented yet</i> </a>
	</div>
        </div>
	
	
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">SitesPhotos - table to hold the photographs of sites </a>
		<a href="#" class="list-group-item">SitesPhotoID : The unique table ID </a>
		<a href="#" class="list-group-item">SiteID : The ID of the site where the photograph was taken </a>
		<a href="#" class="list-group-item">PhotoFilename : The filename of the photo </a>
		<a href="#" class="list-group-item">ViewDegrees : The direction where the photo was taken </a>
		<a href="#" class="list-group-item">PhotoDate : The date and time of the photo, taken from EXIF </a>
		<a href="#" class="list-group-item">UserID : The user ID that uploaded the file </a>
		<a href="#" class="list-group-item">PhotoNotes : Notes about this photo </a>
	</div>
        </div>
	
	
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">Sounds - the main table, holds the data of each sound file </a>
		<a href="#" class="list-group-item">SoundID : The unique table ID </a>
		<a href="#" class="list-group-item">PhysicalArchiveID : <i>not implemented yet</i> </a>
		<a href="#" class="list-group-item">PhysicalArchiveType : <i>not implemented yet</i> </a>
		<a href="#" class="list-group-item">PhysicalArchiveSoundID : <i>not implemented yet</i> </a>
		<a href="#" class="list-group-item">OtherSoundID : The ID of this file in another database, useful when importing  </a>
		<a href="#" class="list-group-item">ColID : The ID of the collection for this file </a>
		<a href="#" class="list-group-item">SoundName : The name to display </a>
		<a href="#" class="list-group-item">OriginalFilename : The file name </a>
		<a href="#" class="list-group-item">FileSize : File size in bytes </a>
		<a href="#" class="list-group-item">MD5_hash : The MD5 hash of the file </a>
		<a href="#" class="list-group-item">MP3Filename : The name of the mp3 file for web listening </a>
		<a href="#" class="list-group-item">Date : Date when the sound was recorded </a>
		<a href="#" class="list-group-item">Time : Time when the sound was recorded </a>
		<a href="#" class="list-group-item">SamplingRate : Sampling rate of the file </a>
		<a href="#" class="list-group-item">BitRate : Bit rate of the file </a>
		<a href="#" class="list-group-item">Channels : Number of channels of this file </a>
		<a href="#" class="list-group-item">Duration : Duration of the sound, in seconds </a>
		<a href="#" class="list-group-item">SoundFormat : Format of the sound file, for example: wav, flac, mp3, aiff, etc. </a>
		<a href="#" class="list-group-item">SiteID : Site ID where the sound was recorded </a>
		<a href="#" class="list-group-item">Location : <i>deprecated</i> </a>
		<a href="#" class="list-group-item">Latitude : <i>deprecated</i> </a>
		<a href="#" class="list-group-item">Longitude : <i>deprecated</i> </a>
		<a href="#" class="list-group-item">EquipmentID : The ID of the equipment used to record the sound </a>
		<a href="#" class="list-group-item">Notes : Notes about this sound file </a>
		<a href="#" class="list-group-item">stamp : Timestamp when the row was created </a>
	</div>
        </div>



	
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">SoundsImages - images (waveforms and spectrograms) generated from the sounds </a>
		<a href="#" class="list-group-item">SoundsImagesID : The unique table ID </a>
		<a href="#" class="list-group-item">SoundID : The Sound ID from where this image was generated </a>
		<a href="#" class="list-group-item">ImageFile : Filename of this image </a>
		<a href="#" class="list-group-item">ImageType : What type of image, options: spectrogram, waveform, spectrogram-small, waveform-small, spectrogram-large, waveform-large </a>
		<a href="#" class="list-group-item">ColorPalette : The color palette used for the images. Same values as the options in the script svt.py</a>
		<a href="#" class="list-group-item">SpecMaxFreq : The maximum frequency of the spectrogram as drawn</a>
	</div>
        </div>

	
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">SoundsMarks - marks made in the visualization window </a>
		<a href="#" class="list-group-item">marks_ID : The unique table ID </a>
		<a href="#" class="list-group-item">SoundID : ID of the Sound used </a>
		<a href="#" class="list-group-item">time_min : Minimum time of the mark </a>
		<a href="#" class="list-group-item">time_max : Maximum time of the mark </a>
		<a href="#" class="list-group-item">freq_min : Minimum frequency of the mark </a>
		<a href="#" class="list-group-item">freq_max : Maximum frequency of the mark </a>
		<a href="#" class="list-group-item">mark_tag : The name used in the mark</a>
		<a href="#" class="list-group-item">fft_size : The fft window size setting </a>
		<a href="#" class="list-group-item">UserID : The ID of the user that stored this mark </a>
	</div>
        </div>
	
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">Tags - tag that holds the tags of each file </a>
		<a href="#" class="list-group-item">TagID : The unique table ID </a>
		<a href="#" class="list-group-item">SoundID : Sound ID for this tag </a>
		<a href="#" class="list-group-item">Tag : The tag for this sound </a>
	</div>
        </div>
	
	
	
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">Users - the users table, holds the data of each user in the system </a>
		<a href="#" class="list-group-item">UserID : The unique table ID </a>
		<a href="#" class="list-group-item">UserName : The user name of this user </a>
		<a href="#" class="list-group-item">UserFullname : Full name of this user </a>
		<a href="#" class="list-group-item">UserEmail : The email address of this user </a>
		<a href="#" class="list-group-item">UserPassword : The password of this user, stored as an MD5 hash </a>
		<a href="#" class="list-group-item">UserRole : The role assigned to this user, either a regular user or an administrator. Options: user, admin </a>
		<a href="#" class="list-group-item">UserActive : Binary value if the user is active or not. Used to deny access to particular users without deleting data. </a>
	</div>
        </div>

	
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">WeatherData - table for weather data </a>
		<a href="#" class="list-group-item">WeatherDataID : The unique table ID </a>
		<a href="#" class="list-group-item">WeatherSiteID : The site ID of the WeatherSites table for this data </a>
		<a href="#" class="list-group-item">WeatherDate : Date for this row </a>
		<a href="#" class="list-group-item">WeatherTime : Time for this row </a>
		<a href="#" class="list-group-item">Temperature : Temperature, stored as decimal degrees in Centigrades </a>
		<a href="#" class="list-group-item">Precipitation : Precipitation, stored as mm </a>
		<a href="#" class="list-group-item">RelativeHumidity : Relative humidity, stored as a percentage value (without %) </a>
		<a href="#" class="list-group-item">DewPoint : Dew point </a>
		<a href="#" class="list-group-item">WindSpeed : Wind speed </a>
		<a href="#" class="list-group-item">WindDirection : Direction, either cardinal or degrees, of the wind </a>
		<a href="#" class="list-group-item">LightIntensity : Light intensity value </a>
		<a href="#" class="list-group-item">BarometricPressure : Barometric pressure </a>
	</div>
        </div>
	
	
	<div class="col-sm-12">
          <div class="list-group">
            <a href="#" class="list-group-item active">WeatherSites - sites where weather data is collected </a>
		<a href="#" class="list-group-item">WeatherSiteID : The unique table ID </a>
		<a href="#" class="list-group-item">WeatherSiteName : Name to display </a>
		<a href="#" class="list-group-item">WeatherSiteLat : Latitude, in decimal degrees </a>
		<a href="#" class="list-group-item">WeatherSiteLon : Longitude, in decimal degrees </a>
		<a href="#" class="list-group-item">WeatherSiteElev : Elevation above sea level, in meters </a>
		<a href="#" class="list-group-item">WeatherSiteSource : The source of this data, for example: data logger, weather service, etc. </a>
	</div>
        </div>
	

     <div id="footer">
        <br><p class="text-muted">Pumilio is maintained by <a href="https://github.com/ljvillanueva">ljvillanueva</a></p>
    </div> 

    </div>
  </body>
</html>
