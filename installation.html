<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Pumilio by ljvillanueva</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Pumilio</h1>
          <h2>Installation Instructions</h2>
        </header>

        <hr>

        <section id="main_content">
         
	<p>To install, download the latest relase version to a webserver folder. Pumilio application requires:

	<ul>
		<li> Linux
		<li> PHP 5.2 or newer
		<li> The <a href="http://lame.sourceforge.net">LAME</a> mp3 encoder.
		<li> The svt.py script requires Python 2.4, <a href="http://numpy.scipy.org/">numpy</a>, <a href="http://www.pythonware.com/products/pil/">Python Imaging Library</a>, and <a href="http://www.ar.media.kyoto-u.ac.jp/members/david/softwares/audiolab/index.html">audiolab 0.08</a>.
		<li> <a href="http://sox.sourceforge.net">SoX</a> version 14.3.0 or higher
		<li> <a href="http://www.imagemagick.org">Imagemagick</a>
		<li> <a href="http://flac.sourceforge.net">FLAC</a> - Free Lossless Audio Codec (optional)
	</ul>

	Create a database and user in MySQL, you can use the <i>mysql</i> utility or <i>phpmyadmin</i>. Then, 
	on your browser, go to the application URL, adding <b>install/</b>. For example, if the address is:
		<pre style="margin-left:20px;">http://somehost.com/pumilio</pre>
		
	<p>Then go to:
		
		<pre style="margin-left:20px;">http://somehost.com/pumilio/install/</pre>
		
	<p>This will check the necessary software and folder permissions. Add an administrative user. After this step you can
	delete the folders <b>install</b> and <b>upgrade</b>.</p>

	<h4><b>Installation under Ubuntu</b></h4>

	<p>Install the server software (Apache, PHP5, MySQL). To install the required packages for audiolab and Pumilio in a current version of Ubuntu:

		<pre style="margin-left:20px;">sudo apt-get install python-dev python-setuptools python-numpy libsndfile1-dev libasound2-dev imagemagick sox libsox* python-imaging flac lame</pre>

	<p>Then download audiolab <a href="http://pypi.python.org/pypi/scikits.audiolab/0.8">version 0.8</a> and install it. From the command line: 

		<pre style="margin-left:20px;">wget https://pypi.python.org/packages/source/s/scikits.audiolab/scikits.audiolab-0.8.tar.gz
		tar -xvzf scikits.audiolab-0.8.tar.gz 
		cd scikits.audiolab-0.8/
		sudo python setup.py install</pre>
	
	<h3>Allow uploads of bigger files</h3>
	
	<p>The file size limit for uploaded files is determined in the php.ini file, by default 2MB. In Ubuntu its located 
	in <i>/etc/php5/apache2/php.ini</i>. Set the desired value in the variables <i>upload_max_filesize</i> and 
	<i>post_max_size</i>, then restart Apache. Please consult the 
	<a href="http://us3.php.net/manual/en/features.file-upload.php">PHP manual</a> for more info. Look <a href="http://us3.php.net/manual/en/features.file-upload.common-pitfalls.php">
	here for some pitfalls to avoid</a>.</p><br>			
	
	<h3>To upgrade</h3>
	
	<p>If you are upgrading from version 1.0, or newer, replace the files with the last release, without replacing the
	following folders:
		
			<ul>
				<li>sounds</li>
				<li>tmp</li>
				<li>sitephotos</li>
				<li>data_sources (if you added something)</li>
				<li>plugins (if you added something)</li>
				<li>tools (if you added something)</li>
			</ul>

	<p>Check config.php.dist to see if new variables are not present in your config.php file. Some options have been moved
	to the administration page in the application (remove these).
	Then go to the application address <b>/upgrade</b> (if the address is <em>http://somehost.com/pumilio</em>, then go to <em>http://somehost.com/pumilio/upgrade</em>).
	This will upgrade the database structure and make all necessary checks. <b>IF YOU MISS THIS STEP, THE SYSTEM MAY NOT WORK AS INTENDED</b>.
	<br><br>


        </section>

        <footer>
          Pumilio is maintained by <a href="https://github.com/ljvillanueva">ljvillanueva</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
